<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Thymeleaf login page</title>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
<style>
.wrapper {
	display: flex;
	justify-content: center;
	align-items: center;
	min-height: 100vh;
	background: #9da3a9d4;
}

.content {
	font-family: system-ui, serif;
	font-size: 2rem;
	padding: 3rem;
	border-radius: 1rem;
	background: white;
}
</style>
</head>
<body>
	<div class="wrapper">
		<div class="content">
			<form th:action="@{/login}" id="loginForm" method="POST">
				<div class="form-group">
					<label for="email">ID</label>
					<input type="text" class="form-control" placeholder="Enter email" name="username">
				</div>
				<div class="form-group">
					<label for="pwd">Password</label>
					<input type="password" class="form-control" placeholder="Enter password" name="password">
				</div>
				<button type="submit" class="btn btn-primary">LogIn</button>
				<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">Sign Up</button>
			</form>
		</div>
	</div>
	<!-- Button trigger modal -->
	<!-- Modal -->
	<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLongTitle">회원가입</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form role="form" method="post" action="/register" id="registerForm">
						<fieldset>
							<div class="form-group">
								<input type="text" name="id" id="id" class="form-control input-lg" placeholder="ID">
							</div>

							<div class="form-group">
								<input type="email" name="userNm" id="userNm" class="form-control input-lg" placeholder="NAME">
							</div>
							<div class="form-group">
								<input type="password" name="password" id="password" class="form-control input-lg" placeholder="Password">
							</div>
							<div class="form-group">
								<input type="password" name="password2" id="password2" class="form-control input-lg" placeholder="Password2">
							</div>
							<div class="form-group">
								<select name="role" class="form-control">
									<option>USER</option>
									<option>ADMIN</option>
								</select>
							</div>
						</fieldset>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
					<button type="button" class="btn btn-primary">회원가입</button>
				</div>
			</div>
		</div>
	</div>


</body>
<!-- jQuery library -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<!-- Popper JS -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<script>
var form = "";

window.onload = function() {
	var url = window.location.href;
	console.log(url);
	if (url.indexOf('?error=true') != -1) {
		alert("로그인 실패 다시 시도하세요");
	}

// 	var btn = document.querySelector(".modal-footer > .btn:nth-child(2)")
// 	btn.addEventListner('click', function() {
// 		var pwd = document.getElementId('password').value;
// 		var pwd2 = document.getElementId('password').value;
// 		if (pwd != pwd2) {
// 			alert('비밀번호가 일치하지 않습니다.');
// 			return false;
// 		}
// 		form = document.getElementById("registerForm");
// 		form.submit();
// 	})
}
</script>

</html>